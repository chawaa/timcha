{"version":3,"sources":["pages/ConfirmationPage/ConfirmationPage.js"],"names":["mapStateToProps","createStructuredSelector","authToken","selectToken","connect","dispatch","showModal","props","component","history","useHistory","token","useParams","useEffect","push","a","children","confirmUser","style","padding","className","options","title","cancelButton"],"mappings":"kNAuDMA,EAAkBC,YAAyB,CAC/CC,UAAWC,MAOEC,sBAAQJ,GAJI,SAACK,GAAD,MAAe,CACxCC,UAAW,SAACC,EAAOC,GAAR,OAAsBH,EAASC,YAAUC,EAAOC,QAG9CJ,EAnDU,SAAC,GAA8B,IAA5BF,EAA2B,EAA3BA,UAAWI,EAAgB,EAAhBA,UAC/BG,EAAUC,cACRC,EAAUC,cAAVD,MAkCR,OAjCAE,qBAAU,WACR,IAAKX,EACH,OAAOO,EAAQK,KAAK,KAEtB,sBAAC,4BAAAC,EAAA,6DACKC,EAAW,KADhB,kBAGSC,YAAYf,EAAWS,GAHhC,OAIGK,EACE,wBAAIE,MAAO,CAAEC,QAAS,QAAUC,UAAU,aAA1C,sCALL,gDAUGJ,EACE,wBAAIE,MAAO,CAAEC,QAAS,QAAUC,UAAU,aAA1C,yCAXL,eAgBCd,EACE,CACEe,QAAS,GACTC,MAAO,eACPC,cAAc,EACdP,YAEF,+BAvBH,kBAyBQP,EAAQK,KAAK,MAzBrB,wDAAD,KA2BC,CAACZ,EAAWO,EAASH,EAAWK,IAGjC,0BAAMS,UAAU,qBACd,kBAAC,UAAD","file":"static/js/6.eaa6284b.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport { showModal } from '../../redux/modal/modalActions';\nimport { selectToken } from '../../redux/user/userSelectors';\n\nimport { confirmUser } from '../../services/userService';\n\nimport Loader from '../../components/Loader/Loader';\n\nconst VerificationPage = ({ authToken, showModal }) => {\n  const history = useHistory();\n  const { token } = useParams();\n  useEffect(() => {\n    if (!authToken) {\n      return history.push('/');\n    }\n    (async function () {\n      let children = null;\n      try {\n        await confirmUser(authToken, token);\n        children = (\n          <h3 style={{ padding: '2rem' }} className=\"heading-3\">\n            Successfully confirmed your email.\n          </h3>\n        );\n      } catch (err) {\n        children = (\n          <h3 style={{ padding: '2rem' }} className=\"heading-3\">\n            Invalid or expired confirmation link.\n          </h3>\n        );\n      }\n      showModal(\n        {\n          options: [],\n          title: 'Confirmation',\n          cancelButton: false,\n          children,\n        },\n        'OptionsDialog/OptionsDialog'\n      );\n      return history.push('/');\n    })();\n  }, [authToken, history, showModal, token]);\n\n  return (\n    <main className=\"verification-page\">\n      <Loader />\n    </main>\n  );\n};\n\nconst mapStateToProps = createStructuredSelector({\n  authToken: selectToken,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  showModal: (props, component) => dispatch(showModal(props, component)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VerificationPage);\n"],"sourceRoot":""}